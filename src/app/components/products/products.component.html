
<section class="my-5 py-5 ">
<div class="container">
 <input  type="search "[(ngModel)]="name" class="form-control  bg-body-tertiary w-75 rounded-5 mx-auto  p-2  mb-1 " placeholder="  Search by Name" >  
 <div class="my-1 w-25">
  <Label for="" class="my-1 fw-bold fs-5 "  >
    <span class="d-flex align-items-center"><i class="fa-solid fa-layer-group "style="color:#5c7407;"></i> Categories:</span>
  </Label>
    <select class="form-control mb-2 rounded-5 fw-bold"style="color:#5c7407;" (change)="filterCategory($event)">
  <option value="all" selected>All</option>
  @for (option of categoriesList(); track option )  {
    <option value="{{option}}" >{{option|titlecase}}</option>
  }
    </select>
  </div> 
    <div class="row g-4"> 
 
        @for (product of productsList() |search:name(); track product.id) {
            <div class="col-md-6 col-lg-3 ">
              @if (isLoading()) {

                <span class=" text-center"> <i class="fa-solid fa-spinner fa-3x text-warning fa-spin " ></i></span> 
          
                 }
                @else {
                    
                  <div class="p-4 product ">
                    <img [src]="product.image" class="w-100 cursor" height="300px" [alt]="product.title">
                    <h4 class="text-muted pt-2" >{{product.category}}</h4>
                    <h4 >{{product.title.split(" ",2).join(" ")}} </h4>
                          @for ( num of [1,2,3,4,5].slice(0,product.rating.rate);track $index ) {
    
                           <span><i class="fa-solid fa-star" style="color: #ffcb0f;"></i> </span>
                          }
                          @if (product.rating.rate%1 !== 0) {
                           <span><i class="fa-solid fa-star-half" style="color: #ffcb0f;"></i></span>
                          }
                            <span class="text-muted">{{product.rating.rate}}</span>
  
                    <div class="d-flex  align-items-center justify-content-between">
                      <h5 class="text-muted" >{{product.price  | currency:'GBP' }} <i class="fa-solid fa-money-bill" style="color:#5c7407;"></i></h5>
   
  
  
                      <div class=" hover bg-warning rounded-3">
                        <button class=" btn " type="button"  > <i class="fa-brands fa-shopify  fa-2" ></i> Add </button>
                      </div>
                       
               
                    
  
                    </div>
                  
  
                     
                  </div>
                }

          
             </div>
        }
      
    </div>
    

</div>

</section>